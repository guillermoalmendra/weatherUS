<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Predicci√≥n de Lluvia</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<script>
document.addEventListener('paste', function (e) {
    e.preventDefault();
    let pastedText = (e.clipboardData || window.clipboardData).getData('text');
    
    // Reemplaza comas por puntos (formato decimal correcto)
    pastedText = pastedText.replace(/,/g, '.');

    const valores = pastedText.trim().split(/\s+/);

    if (valores.length === 5 && valores.every(v => !isNaN(parseFloat(v)))) {
        const inputs = document.querySelectorAll('form input[type="number"]');
        inputs.forEach((input, index) => {
            input.value = valores[index];
        });
    }
});
</script>
<body class="{{ fondo }}">
    <div class="container">
        <h2>¬øLlover√° ma√±ana?</h2>
        <form action="/predict" method="post">
            <label for="var1">Rainfall (mm):</label>
            <input type="number" step="any" name="var1" required placeholder="Ej: 2.4">

            <label for="var2">Humidity 3pm (%):</label>
            <input type="number" step="any" name="var2" required placeholder="Ej: 76.0">

            <label for="var3">Pressure 3pm (hPa):</label>
            <input type="number" step="any" name="var3" required placeholder="Ej: 1013.4">

            <label for="var4">Max Temperature (¬∞C):</label>
            <input type="number" step="any" name="var4" required placeholder="Ej: 25.6">

            <label for="var5">¬øLlovi√≥ hoy? (1 = S√≠, 0 = No):</label>
            <input type="number" min="0" max="1" name="var5" required placeholder="Ej: 1">

            <input type="submit" value="Predecir">
        </form>

        {% if prediction_text %}
            <div class="result">
                <strong>{{ prediction_text }}</strong>
            </div>
        {% endif %}

        {% if explicacion_text %}
            <div class="result" style="margin-top: 20px;">
                <p><strong>{% if fondo == 'lluvioso' %}üåßÔ∏è{% else %}‚òÄÔ∏è{% endif %} Explicaci√≥n del modelo:</strong></p>
                {{ explicacion_text | safe }}
            </div>
        {% endif %}
    </div>
</body>
</html>
